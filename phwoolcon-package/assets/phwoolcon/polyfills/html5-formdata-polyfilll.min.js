!function(t){function n(){if(!(this instanceof n))return new n;this.boundary="------RWWorkerFormDataBoundary"+Math.random().toString(36);var t=this.data=[];this.__append=function(n){var e,r=0;if("string"==typeof n)for(e=n.length;e>r;++r)t.push(255&n.charCodeAt(r));else if(n&&n.byteLength){"byteOffset"in n||(n=new Uint8Array(n));for(e=n.byteLength;e>r;++r)t.push(255&n[r])}}}if(!t.FormData){t.FormData=n;var e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(t){return t instanceof n&&(t.__endedMultipart||t.__append("--"+t.boundary+"--\r\n"),t.__endedMultipart=!0,this.setRequestHeader("Content-Type","multipart/form-data; boundary="+t.boundary),t=new Uint8Array(t.data)),e.call(this,t)},n.prototype.append=function(t,n,e){if(this.__endedMultipart&&(this.data.length-=this.boundary.length+6,this.__endedMultipart=!1),arguments.length<2)throw new SyntaxError("Not enough arguments");var r="--"+this.boundary+'\r\nContent-Disposition: form-data; name="'+t+'"';return n instanceof File||n instanceof Blob?this.append(t,new Uint8Array((new FileReaderSync).readAsArrayBuffer(n)),e||n.name):("number"==typeof n.byteLength?(r+='; filename="'+(e||"blob").replace(/"/g,"%22")+'"\r\n',r+="Content-Type: application/octet-stream\r\n\r\n",this.__append(r),this.__append(n),r="\r\n"):r+="\r\n\r\n"+n+"\r\n",void this.__append(r))}}}(this||self);